<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="../js/p5/p5.min.js"></script>
    <title>Rect Recursive hypnosis</title>
</head>
<body>
    
<script>
    let width =  window.innerWidth;
    let height = window.innerHeight,
    colorScheme = ['#454545','#505050'],
    amount = 3,
    size = width/amount,
    theta = 0;

    
    function setup(){
        createCanvas(width,height);
        background('#454545');
        rectMode(CENTER);
        angleMode(DEGREES);
         
        stroke(256);
  
    }

    function randCol(){
       Math.random()*256;
    }

    function draw(){
            theta++;
        let drawRecurRects=(x, y, smallerPercent)=>{
            if(size < 50){
                size = width/amount;
            }else{
           //     fill(sin(theta*.20)*100*Math.random()+30);
                fill(100);
                rotate(sin(theta));

                rect(x,y, size,size);

               // size = size * smallerPercent*.01;
               size = size-smallerPercent;
                drawRecurRects(x,y,smallerPercent)
            }
        }

        for(let x=0; x<= amount; x++){
            push();
            translate(x*width/amount-width/amount , 0 )
                drawRecurRects(
                    width/amount-width/amount/2,
                     height/2,
                     20)
                size = width/amount;
            pop();
        }
    }
</script>

</body>
</html>